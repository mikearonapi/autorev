/* PullToRefresh Component Styles */

.container {
  position: relative;
  width: 100%;

  /* Removed height: 100% - conflicts with flex: 1 and can cause 
     incorrect height calculation on first PWA render before 
     safe area values are available */
  min-height: 0; /* Allow flex shrinking */
  overflow: auto;
  overscroll-behavior-y: contain; /* Prevent browser's built-in pull-to-refresh */
  -webkit-overflow-scrolling: touch;

  /* Support flex parent containers */
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Pull indicator - appears above content */
.indicator {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3);
  z-index: 10;
  transition: opacity 0.2s ease;
  pointer-events: none;
}

/* Spinner container */
.spinner {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-text-secondary);
  transition: color 0.15s ease;
}

.spinner.ready {
  color: var(--color-accent-lime);
}

/* Refreshing state - continuous spin */
.refreshing .spinner {
  animation: spin 0.8s linear infinite;
  color: var(--color-accent-lime);
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* Text label */
.text {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  font-weight: 500;
}

.refreshing .text {
  color: var(--color-accent-lime);
}

/* Content wrapper */
.content {
  min-height: 100%;
  will-change: transform;

  /* Support flex children */
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Hide on desktop - pull-to-refresh is mobile-only */
@media (min-width: 768px) {
  .indicator {
    display: none;
  }

  .content {
    transform: none !important;
  }
}
